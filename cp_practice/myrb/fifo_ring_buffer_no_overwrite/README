https://www.embedded.com/ring-buffer-basics/